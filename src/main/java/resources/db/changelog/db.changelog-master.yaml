databaseChangeLog:
  -changeSet:
    id: 1
    author: yredko
    changes:
      - createTeble:
          tableName: user
          columns:
            - column:
              name: login
              type: varchar(255)
              constraints:
                primaryKey: true
                nullable: false
            - column:
                name: password_hash
                type: varchar(255)
      - createTable:
          tableName: food
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: name
                type: varchar(255)
                constraints:
                  nullable: false
            - column:
                name: calories
                type: double
            - column:
                name: protein
                type: double
            - column:
                name: fat
                type: double
            - column:
                name: carbs
                type: double
      - createTable:
          tableName: food_consumption
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: food_id
                type: bigint
                constraints:
                  nullable: false
            - column:
                name: size
                type: double
            - column:
                name: day_id
                type: bigint
                constraints:
                  nullable: false
      - createTable:
          tableName: day
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  primaryKey: true
                  nullable: false
            - column:
                name: date
                type: date
                constraints:
                  nullable: false
            - column:
                name: owner_login
                type: varchar(255)
                constraints:
                  nullable: false
            - column:
                name: calories
                type: double
          - addForeignKeyConstraint:
              baseColumnNames: food_id
              baseTableName: food_consumption
              constraintName: fk_food_consumption_food
              referencedColumnNames: id
              referencedTableName: food
          - addForeignKeyConstraint:
              baseColumnNames: day_id
              baseTableName: food_consumption
              constraintName: fk_food_consumption_day
              referencedColumnNames: id
              referencedTableName: day
          - addForeignKeyConstraint:
              baseColumnNames: owner_login
              baseTableName: day
              constraintName: fk_day_user
              referencedColumnNames: login
              referencedTableName: user